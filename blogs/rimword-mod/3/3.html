<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/logo.svg"><title>环世界模组开发 - 3. Harmony补丁开发 | 散客</title><meta name="description" content="thank">
    <link rel="preload" href="/assets/style-ChPBveyY.css" as="style"><link rel="stylesheet" href="/assets/style-ChPBveyY.css">
    <link rel="modulepreload" href="/assets/app-CiE264yX.js"><link rel="modulepreload" href="/assets/3.html-96XX2Qiy.js">
    <link rel="prefetch" href="/assets/timeline.html-C0Lk3g0A.js" as="script"><link rel="prefetch" href="/assets/posts.html-yyBEX37_.js" as="script"><link rel="prefetch" href="/assets/friendship-link.html-D66nxIB8.js" as="script"><link rel="prefetch" href="/assets/1.html-DskLOxTX.js" as="script"><link rel="prefetch" href="/assets/1.html-CCcRRHr4.js" as="script"><link rel="prefetch" href="/assets/1.html-Cc7u0iSb.js" as="script"><link rel="prefetch" href="/assets/1.html-DMNgt208.js" as="script"><link rel="prefetch" href="/assets/1.html-BvJGlzPc.js" as="script"><link rel="prefetch" href="/assets/1.html-CYaDT32i.js" as="script"><link rel="prefetch" href="/assets/1.html-naniLBH5.js" as="script"><link rel="prefetch" href="/assets/1.html-xvZ_Fz7U.js" as="script"><link rel="prefetch" href="/assets/index.html-Bbo2klxZ.js" as="script"><link rel="prefetch" href="/assets/index.html-HDO2sPOQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CalH6I_v.js" as="script"><link rel="prefetch" href="/assets/index.html-CVhgHSP0.js" as="script"><link rel="prefetch" href="/assets/index.html-DyWUrzRK.js" as="script"><link rel="prefetch" href="/assets/index.html-Day46LFZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DNfQYyvL.js" as="script"><link rel="prefetch" href="/assets/1.html-DswhFIJG.js" as="script"><link rel="prefetch" href="/assets/0.html-Bv0ycOOD.js" as="script"><link rel="prefetch" href="/assets/2.html-CMS8oz4E.js" as="script"><link rel="prefetch" href="/assets/404.html-DnU8LKYT.js" as="script"><link rel="prefetch" href="/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/assets/giscus-aTimukGI-DWEKOTfS.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/logo.svg" alt="散客"><a href="/" class="site-name can-hide">散客</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/" class="link" aria-label="首页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->首页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/categories/huanshijiemozukaifa/1.html" class="link" aria-label="分类"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->分类<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/tags/Mod/1.html" class="link" aria-label="标签"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->标签<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/timeline.html" class="link" aria-label="时间线"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->时间线<!--]--></span></span><!--[--><!--]--></a></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><li class="social-item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:25px;height:25px;"><path d="M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2z" fill-rule="evenodd" fill="currentColor"></path></svg></li><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">环世界模组开发 - 3. Harmony补丁开发</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->renxian<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2025/06/29<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/categories/huanshijiemozukaifa/1.html" class="">环世界模组开发</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/tags/RimWorld/1.html" class="">RimWorld</a><a href="/tags/Mod/1.html" class="">Mod</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><p>本节介绍使用Harmony库对环世界的方法进行打补丁，同样会以一个简单的案例来说明如何使用Harmony库。</p><h2 id="一、harmony库简介" tabindex="-1"><a class="header-anchor" href="#一、harmony库简介"><span>一、Harmony库简介</span></a></h2><p>Harmony是利用C#的反射和IL代码修改技术，能够在运行时替换、修补、装饰.NET方法的库。其能够为方法添加前置补丁、后置补丁和辅助补丁，在方法补丁无法生效的情况下，还可以使转译器修改IL字节码。</p><p>详细的API说明和用例参见Harmony官网地址：<a href="https://harmony.pardeike.net/articles/intro.html" target="_blank" rel="noopener noreferrer">Harmony官网<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="二、创建模组" tabindex="-1"><a class="header-anchor" href="#二、创建模组"><span>二、创建模组</span></a></h2><p>本次案例是做一个对人物技能增强的模组，让技能为小人带来更多的增益效果，如：让格斗等级能够缩短近战的冷却时间。模组目录结构如下：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">MyCombatExtend</span>
<span class="line"> - About</span>
<span class="line">   - About.xml</span>
<span class="line"> - Assemblies</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、编写补丁" tabindex="-1"><a class="header-anchor" href="#三、编写补丁"><span>三、编写补丁</span></a></h2><h3 id="_1-安装harmony模组" tabindex="-1"><a class="header-anchor" href="#_1-安装harmony模组"><span>1. 安装Harmony模组</span></a></h3><p>在Steam创意工坊中订阅：<a href="https://steamcommunity.com/workshop/filedetails/?id=2009463077" target="_blank" rel="noopener noreferrer">Harmony<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，订阅后可以直接添加到游戏的模组列表内。</p><h3 id="_2-编写about-xml文件" tabindex="-1"><a class="header-anchor" href="#_2-编写about-xml文件"><span>2. 编写About.xml文件</span></a></h3><p>在<code>About\About.xml</code>文件中写入以下内容：</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ModMetaData</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>我的战斗拓展<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!--模组名称--&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>我的战斗拓展<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!--模组描述--&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>author</span><span class="token punctuation">&gt;</span></span>RenXian<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>author</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!--作者--&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>supportedVersions</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!--支持的版本--&gt;</span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>supportedVersions</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packageId</span><span class="token punctuation">&gt;</span></span>RenXian.MyCombatExtend<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packageId</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!--包名--&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modDependencies</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!--模组依赖，声明你的模块依赖了哪些其他的模板，以便于其他玩家去下载--&gt;</span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packageId</span><span class="token punctuation">&gt;</span></span>brrainz.harmony<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packageId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>displayName</span><span class="token punctuation">&gt;</span></span>Harmony<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>displayName</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>downloadUrl</span><span class="token punctuation">&gt;</span></span>https://steamcommunity.com/workshop/filedetails/?id=2009463077<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>downloadUrl</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>steamWorkshopUrl</span><span class="token punctuation">&gt;</span></span>https://steamcommunity.com/workshop/filedetails/?id=2009463077<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>steamWorkshopUrl</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modDependencies</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ModMetaData</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-创建c-项目" tabindex="-1"><a class="header-anchor" href="#_3-创建c-项目"><span>3. 创建C#项目</span></a></h3><p>在创建<code>MyCombatExtend</code>目录下一个C#类库项目，命名为<code>MyCombatExtendSource</code>，创建过程参加第二节的内容。</p><h3 id="_4-添加harmony库引用" tabindex="-1"><a class="header-anchor" href="#_4-添加harmony库引用"><span>4. 添加Harmony库引用</span></a></h3><p>引入模组列表中的Harmony库，通常位于<code>Steam安装目录\steamapps\workshop\content\294100\2009463077\Current\Assemblies</code>目录下。</p><p>可以直接在.csproj文件中添加引用：</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Reference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0Harmony<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HintPath</span><span class="token punctuation">&gt;</span></span>..\..\..\..\..\workshop\content\294100\2009463077\Current\Assemblies\0Harmony.dll<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HintPath</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Private</span><span class="token punctuation">&gt;</span></span>False<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Private</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Reference</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-反编译查看目标方法逻辑" tabindex="-1"><a class="header-anchor" href="#_5-反编译查看目标方法逻辑"><span>5. 反编译查看目标方法逻辑</span></a></h3><p>使用Rider的反编译功能添加<code>Assembly-CSharp.dll</code>查看<code>VerbProperties.AdjustedCooldown</code>方法的逻辑，了解其参数和返回值。</p><p><img src="/assets/%E6%B7%BB%E5%8A%A0%E5%8F%8D%E7%BC%96%E8%AF%91%E7%A8%8B%E5%BA%8F%E9%9B%86-CHym0hwZ.png" alt="添加反编译程序集.png"></p><p>反编译得到的代码如下：</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token comment">//tool指的是近战攻击时使用的具体部位，比如拳头、牙齿、刀尖，equipment则是指使用的武器，比如：玻璃钢匕首、速射机枪</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">float</span></span> <span class="token function">AdjustedCooldown</span><span class="token punctuation">(</span><span class="token class-name">Tool</span> tool<span class="token punctuation">,</span> <span class="token class-name">Pawn</span> attacker<span class="token punctuation">,</span> <span class="token class-name">Thing</span> equipment<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token class-name"><span class="token keyword">float</span></span> num <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>defaultCooldownTime<span class="token punctuation">;</span> <span class="token comment">//Def中定义的默认冷却时间</span></span>
<span class="line">  <span class="token comment">//如果有tool则说明是近战攻击，计算equipment的冷却时间，equipment为空时，冷却时间则使用Defs中定义的冷却时间*1.0</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>tool <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> </span>
<span class="line">    num <span class="token operator">=</span> tool<span class="token punctuation">.</span><span class="token function">AdjustedCooldown</span><span class="token punctuation">(</span>equipment<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">//如果没有tool，则说明是远程攻击，使用equipment的冷却时间</span></span>
<span class="line">  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>equipment <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>IsMeleeAttack<span class="token punctuation">)</span></span>
<span class="line">    num <span class="token operator">=</span> equipment<span class="token punctuation">.</span><span class="token function">GetStatValue</span><span class="token punctuation">(</span>StatDefOf<span class="token punctuation">.</span>RangedWeapon_Cooldown<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>attacker <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//应用冷却因子，这个在自定义的时候可以设置</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>IsMeleeAttack<span class="token punctuation">)</span></span>
<span class="line">      num <span class="token operator">*=</span> attacker<span class="token punctuation">.</span><span class="token function">GetStatValue</span><span class="token punctuation">(</span>StatDefOf<span class="token punctuation">.</span>MeleeCooldownFactor<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">      num <span class="token operator">*=</span> attacker<span class="token punctuation">.</span><span class="token function">GetStatValue</span><span class="token punctuation">(</span>StatDefOf<span class="token punctuation">.</span>RangedCooldownFactor<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> num<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//重载方法，这里多了一个equipmentStuff参数，通常是指武器的材质</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">float</span></span> <span class="token function">AdjustedCooldown</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">Tool</span> tool<span class="token punctuation">,</span></span>
<span class="line">  <span class="token class-name">Pawn</span> attacker<span class="token punctuation">,</span></span>
<span class="line">  <span class="token class-name">ThingDef</span> equipment<span class="token punctuation">,</span></span>
<span class="line">  <span class="token class-name">ThingDef</span> equipmentStuff<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token class-name"><span class="token keyword">float</span></span> num <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>defaultCooldownTime<span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">//这里同理，只是增加了对equipmentStuff的处理</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>tool <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span></span>
<span class="line">    num <span class="token operator">=</span> tool<span class="token punctuation">.</span><span class="token function">AdjustedCooldown</span><span class="token punctuation">(</span>equipment<span class="token punctuation">,</span> equipmentStuff<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>equipment <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>IsMeleeAttack<span class="token punctuation">)</span></span>
<span class="line">    num <span class="token operator">=</span> equipment<span class="token punctuation">.</span><span class="token function">GetStatValueAbstract</span><span class="token punctuation">(</span>StatDefOf<span class="token punctuation">.</span>RangedWeapon_Cooldown<span class="token punctuation">,</span> equipmentStuff<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">//同上，应用冷却因子</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>attacker <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>IsMeleeAttack<span class="token punctuation">)</span></span>
<span class="line">      num <span class="token operator">*=</span> attacker<span class="token punctuation">.</span><span class="token function">GetStatValue</span><span class="token punctuation">(</span>StatDefOf<span class="token punctuation">.</span>MeleeCooldownFactor<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">      num <span class="token operator">*=</span> attacker<span class="token punctuation">.</span><span class="token function">GetStatValue</span><span class="token punctuation">(</span>StatDefOf<span class="token punctuation">.</span>RangedCooldownFactor<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> num<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-编写补丁代码" tabindex="-1"><a class="header-anchor" href="#_6-编写补丁代码"><span>6. 编写补丁代码</span></a></h3><p>根据上面分析的逻辑，我们需要对冷却时间的最终结果乘以受格斗技能等级影响的系数。格斗技能每升一级，冷却时间降低2.5%。</p><p>因此可以对<code>VerbProperties.AdjustedCooldown</code>添加一个后置补丁，来修改冷却时间的最终计算结果。</p><p>在项目中创建一个类，命名为<code>Patch_MyCombatExtend</code>，并编写以下代码：</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token keyword">using</span> <span class="token namespace">HarmonyLib</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">RimWorld</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">Verse</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">namespace</span> <span class="token namespace">MyCombatExtendSource</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">StaticConstructorOnStartup</span></span><span class="token punctuation">]</span> <span class="token comment">// 在游戏启动时加载此类</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Patch_MyCombatExtend</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">//静构造函数，启动时调用该函数</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token function">Patch_MyCombatExtend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Harmony</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>Patch_MyCombatExtend<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">PatchAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建Harmony实例并应用所有补丁</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">    <span class="token comment">//近战冷却时间随近战技能等级降低，每级降低2.5%</span></span>
<span class="line">    <span class="token comment">//对VerbProperties.AdjustedCooldown方法进行补丁，该方法用于计算攻击的冷却时间</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HarmonyPatch</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">VerbProperties</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token comment">//目标类</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HarmonyPatch</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>VerbProperties<span class="token punctuation">.</span>AdjustedCooldown<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token comment">//目标方法</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HarmonyPatch</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Tool</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Pawn</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Thing</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token comment">//目标方法的参数类型列表</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Patch_CooldownMultiplier1</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HarmonyPostfix</span></span><span class="token punctuation">]</span> <span class="token comment">//后置补丁，在目标方法执行后调用</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Postfix</span><span class="token punctuation">(</span><span class="token keyword">ref</span> <span class="token class-name"><span class="token keyword">float</span></span> __result<span class="token punctuation">,</span> <span class="token class-name">VerbProperties</span> __instance<span class="token punctuation">,</span> <span class="token class-name">Pawn</span> attacker<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>attacker <span class="token operator">!=</span> <span class="token keyword">null</span></span>
<span class="line">                <span class="token operator">&amp;&amp;</span> attacker<span class="token punctuation">.</span>skills <span class="token operator">!=</span> <span class="token keyword">null</span></span>
<span class="line">                <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>attacker<span class="token punctuation">.</span>skills<span class="token punctuation">.</span><span class="token function">GetSkill</span><span class="token punctuation">(</span>SkillDefOf<span class="token punctuation">.</span>Melee<span class="token punctuation">)</span><span class="token punctuation">.</span>TotallyDisabled</span>
<span class="line">                <span class="token operator">&amp;&amp;</span> __instance<span class="token punctuation">.</span>IsMeleeAttack<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token comment">//如果攻击者存在没有被禁用的格斗技能，并且当前动作是近战攻击时，我们让最终的冷却时间受格斗技能影响</span></span>
<span class="line">                __result <span class="token operator">*=</span> <span class="token number">1</span> <span class="token operator">-</span> attacker<span class="token punctuation">.</span>skills<span class="token punctuation">.</span><span class="token function">GetSkill</span><span class="token punctuation">(</span>SkillDefOf<span class="token punctuation">.</span>Melee<span class="token punctuation">)</span><span class="token punctuation">.</span>Level <span class="token operator">*</span> <span class="token number">0.025f</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">//对AdjustedCooldown的重载方法进行补丁，逻辑同上</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HarmonyPatch</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">VerbProperties</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HarmonyPatch</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>VerbProperties<span class="token punctuation">.</span>AdjustedCooldown<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HarmonyPatch</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Tool</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Pawn</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ThingDef</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ThingDef</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Patch_CooldownMultiplier2</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HarmonyPostfix</span></span><span class="token punctuation">]</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Postfix</span><span class="token punctuation">(</span><span class="token keyword">ref</span> <span class="token class-name"><span class="token keyword">float</span></span> __result<span class="token punctuation">,</span> <span class="token class-name">VerbProperties</span> __instance<span class="token punctuation">,</span> <span class="token class-name">Pawn</span> attacker<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>attacker <span class="token operator">!=</span> <span class="token keyword">null</span></span>
<span class="line">                <span class="token operator">&amp;&amp;</span> attacker<span class="token punctuation">.</span>skills <span class="token operator">!=</span> <span class="token keyword">null</span></span>
<span class="line">                <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>attacker<span class="token punctuation">.</span>skills<span class="token punctuation">.</span><span class="token function">GetSkill</span><span class="token punctuation">(</span>SkillDefOf<span class="token punctuation">.</span>Melee<span class="token punctuation">)</span><span class="token punctuation">.</span>TotallyDisabled</span>
<span class="line">                <span class="token operator">&amp;&amp;</span> __instance<span class="token punctuation">.</span>IsMeleeAttack<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                __result <span class="token operator">*=</span> <span class="token number">1</span> <span class="token operator">-</span> attacker<span class="token punctuation">.</span>skills<span class="token punctuation">.</span><span class="token function">GetSkill</span><span class="token punctuation">(</span>SkillDefOf<span class="token punctuation">.</span>Melee<span class="token punctuation">)</span><span class="token punctuation">.</span>Level <span class="token operator">*</span> <span class="token number">0.025f</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-编译项目并测试" tabindex="-1"><a class="header-anchor" href="#_7-编译项目并测试"><span>7. 编译项目并测试</span></a></h3><p>同第二节一样，编译项目后便会在<code>Assemblies</code>目录下生成dll文件，由于效果不太明显，这里就不放效果图了，可自行测试。</p><h2 id="四、总结" tabindex="-1"><a class="header-anchor" href="#四、总结"><span>四、总结</span></a></h2><p>本节介绍了如何使用Harmony库对环世界的代码进行打补丁，创建了一个简单的模组来增强近战技能的效果。通过对 <code>VerbProperties.AdjustedCooldown</code>方法的补丁，实现了根据近战技能等级来降低近战攻击的冷却时间。</p></div></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->上次更新于 2025/8/7 19:08:41<!--]--></span></span></div></footer><!----><!----></div><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#一、harmony库简介" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="一、Harmony库简介"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->一、Harmony库简介<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#二、创建模组" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="二、创建模组"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->二、创建模组<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#三、编写补丁" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="三、编写补丁"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->三、编写补丁<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#_1-安装harmony模组" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. 安装Harmony模组"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. 安装Harmony模组<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#_2-编写about-xml文件" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. 编写About.xml文件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. 编写About.xml文件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#_3-创建c-项目" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3. 创建C#项目"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->3. 创建C#项目<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#_4-添加harmony库引用" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="4. 添加Harmony库引用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->4. 添加Harmony库引用<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#_5-反编译查看目标方法逻辑" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="5. 反编译查看目标方法逻辑"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->5. 反编译查看目标方法逻辑<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#_6-编写补丁代码" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="6. 编写补丁代码"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->6. 编写补丁代码<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#_7-编译项目并测试" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="7. 编译项目并测试"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->7. 编译项目并测试<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/rimword-mod/3/3.html#四、总结" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="四、总结"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->四、总结<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CiE264yX.js" defer></script>
  </body>
</html>
